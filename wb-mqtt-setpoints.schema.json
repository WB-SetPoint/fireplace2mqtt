{
  "$schema": "http://json-schema.org/draft-04/schema#",
  "type": "object",
  "title": "Настройки инженерные.",
  "description": "Настройки работы систем дома",
  "options": {
	"disable_edit_json" : true,
    "disable_collapse" : true,
	"disable_properties" : true,
	"disable_array_reorder" : true,
    "collapsed": false
  },
  "properties": {
    "slots": {
      "type": "array",
      "title": "  ",
      "minItems": 1,
      "maxItems": 10,
	  "items": {
		"type": "object",
		"title": "Channel options",
		"headerTemplate": "{{self.name}}",
		  "options": {
		  "disable_array_reorder" : true,
		  "disable_collapse" : false,
		  "disable_array_add" : true,
		  "disable_edit_json" : true,
		  "disable_properties" : true,
		  "collapsed": false,
		  "disable_array_delete": true
		  },
		"properties": {
		  "id": {
			"type": "string",
			"title": "ID",
			"minLength": 1,
			"default": "0",
			"propertyOrder": 1,
			"options": {"hidden": true}
		  },
		  "name": {
			"type": "string",
			"title": "Name",
			"minLength": 1,
			"default": "Лампы",
			"propertyOrder": 1,
			"options": {"hidden": true}
		  },
		  "on_off": {
			"type": "array",
			"items": {
			"$ref": "#/definitions/on_off"
			},
			  "title": "Обычные лампы",
	     	  "propertyOrder": 1,
			  "options": {
			  "disable_array_reorder" : true,
			  "disable_collapse" : false,
			  "disable_array_add" : false,
			  "disable_edit_json" : true,
			  "disable_properties" : true,
			  "collapsed": false,
			  "disable_array_delete": false
			  }
		  },
		  "dimmer": {
			"type": "array",
			"items": {
			"$ref": "#/definitions/dimmer"
			},
			  "title": "Диммеры",
			  "propertyOrder": 2,
			  "options": {
			  "disable_array_reorder" : true,
			  "disable_collapse" : false,
			  "disable_array_add" : false,
			  "disable_edit_json" : true,
			  "disable_properties" : true,
			  "collapsed": false,
			  "disable_array_delete": false
			  }
		  },
		  "heater": {
			"type": "array",
			"items": {
			"$ref": "#/definitions/heater"
			},
			  "title": "Теплые полы",
			  "propertyOrder": 3,
			  "options": {
			  "disable_array_reorder" : true,
			  "disable_collapse" : false,
			  "disable_array_add" : true,
			  "disable_edit_json" : true,
			  "disable_properties" : true,
			  "collapsed": false,
			  "disable_array_delete": true
			  }
		  }
		}
	  },
	  "options": {
		"disable_collapse": true,
		"disable_array_add": true,
		"disable_array_delete": true,
		"disable_array_reorder": true
	  },
      "_format": "tabs",
      "propertyOrder": 1
    }
  },
  "configFile": {
    "path": "/mnt/data/etc/wb-mqtt-setpoints.conf",
    "service": "wb-rules"
  },
  "definitions": {
    "on_off": {
      "type": "object",
      "headerTemplate": "{{self.mark}} : \"{{self.name}}\"",
      "required": [ "name"],
      "_format": "grid",
	  "options": {
		"disable_edit_json" : true,
		"disable_properties" : true,
		"disable_array_reorder" : true,
		"collapsed": true
	  },
      "properties": {
        "i": {
	      "title": "Индекс",
          "type": "string",
          "default": "1",
          "description": "Порядковый номер в списке",
		  "propertyOrder": 22,
		  "options": {"hidden": true}
        },
          "mark": {
	      "title": "Позиция лампы",
          "type": "string",
          "default": "1",
          "description": "Маркировка на плане помещения",
		  "propertyOrder": 1,
		  "options": {"hidden": false,
		  				"grid_columns": 6}
        },
        "name": {
		  "title": "Комната",
          "type": "string",
          "default": "Спальня",
          "description": "Наименование комнаты",
		  "propertyOrder": 2,
		  "options": {"hidden": false,
		  				"grid_columns": 6}
        },
        "ch1": {
		  "title": "Реле 1",
          "type": "string",
          "default": "MR6LV/K1",
          "description": "Контакт ведущего реле управления",
		  "propertyOrder": 3,
		  "options": {"hidden": false,
		  				"grid_columns": 6}
        },
        "ch2": {
		  "title": "Реле 2",
          "type": "string",
          "default": "",
          "description": "Контакт ведомого реле управления",
		  "propertyOrder": 4,
		  "options": {"hidden": false,
		  				"grid_columns": 6}
        },
        "input1": {
		  "title": "Вход 1",
          "type": "string",
          "default": "MR6LV/Input 1 counter",
          "description": "Выключатель Ведущего светильника",
		  "propertyOrder": 5,
		  "options": {"hidden": false,
		  				"grid_columns": 12}
        },
        "input2": {
		  "title": "Вход 2",
          "type": "string",
          "default": "",
          "description": "Выключатель 2",
		  "propertyOrder": 6,
		  "options": {"hidden": true}
        },
        "sensor1": {
		  "title": "Датчик 1",
          "type": "string",
          "default": "wb-gpio/EXT1_IN1",
          "description": "Вход Датчика 1",
		  "propertyOrder": 7,
		  "options": {"hidden": false,
		  				"grid_columns": 6}
        },
        "sensor1on": {
		  "title": "Датчик 1",
          "type": "string",
          "default": "light_control/sensor_sm01_on",
          "description": "Разрешить Датчик 1",
		  "propertyOrder": 8,
		  "options": {"hidden": true}
        },
        "sensor1inverse": {
		  "title": "Датчик 1",
          "type": "boolean",
          "default": "true",
          "description": "Инверсия входа Датчика 1",
		  "_format": "checkbox",
		  "propertyOrder": 9,
		  "options": {"hidden": true}
        },
        "sensor2": {
		  "title": "Датчик 2",
          "type": "string",
          "default": "wb-gpio/EXT1_IN2",
          "description": "Вход Датчика 2",
		  "propertyOrder": 10,
		  "options": {"hidden": true}
        },
        "sensor2on": {
		  "title": "Датчик 2",
          "type": "string",
          "default": "light_control/sensor_sm02_on",
          "description": "Разрешить Датчик 2",
		  "propertyOrder": 11,
		  "options": {"hidden": true}
        },
        "sensor2inverse": {
		  "title": "Датчик 2",
          "type": "boolean",
          "default": "true",
          "description": "Инверсия входа Датчика 2",
		  "_format": "checkbox",
		  "propertyOrder": 12,
		  "options": {"hidden": true}
        },
		"duration": {
		  "title": "Длительность",
		  "description": "Время свечения после включения",
	      "type": "number",
          "default": 10,
		  "minimum": 0,
		  "maximum": 300,
	      "propertyOrder": 13,
		  "options": {"hidden": false,
		  				"grid_columns": 6}
	    },
		"delay": {
		  "title": "Задержка",
		  "description": "Задержка включения",
	      "type": "number",
          "default": 10,
		  "minimum": 0,
		  "maximum": 10,
	      "propertyOrder": 14,
		  "options": {"hidden": true}
	    },
        "dayTime0": {
		  "title": "День",
          "type": "boolean",
          "default": "true",
          "description": "Включать днем",
		  "_format": "checkbox",
		  "propertyOrder": 15,
		  "options": {"hidden": false,
		  				"grid_columns": 4}
        },
        "dayTime1": {
		  "title": "Вечер",
          "type": "boolean",
          "default": "true",
          "description": "Включать вечером",
		  "_format": "checkbox",
		  "propertyOrder": 16,
		  "options": {"hidden": false,
		  				"grid_columns": 4}
        },
        "dayTime2": {
		  "title": "Ночь",
          "type": "boolean",
          "default": "false",
          "description": "Включать ночью",
		  "_format": "checkbox",
		  "propertyOrder": 17,
		  "options": {"hidden": false,
		  				"grid_columns": 4}
        }
      }
    },
    "dimmer": {
      "type": "object",
      "headerTemplate": "{{self.mark}} : \"{{self.name}}\"",
      "required": [ "name"],
      "_format": "grid",
	  "options": {
		"disable_edit_json" : true,
		"disable_properties" : true,
		"disable_array_reorder" : true,
		"collapsed": true
	  },
      "properties": {
        "i": {
	      "title": "Индекс",
          "type": "string",
          "default": "1",
          "description": "Порядковый номер в списке",
		  "propertyOrder": 22,
		  "options": {"hidden": true}
        },
          "mark": {
	      "title": "Позиция лампы",
          "type": "string",
          "default": "1",
          "description": "Маркировка на плане помещения",
		  "propertyOrder": 1,
		  "options": {"hidden": false,
		  				"grid_columns": 6}
        },
        "name": {
		  "title": "Комната",
          "type": "string",
          "default": "Спальня",
          "description": "Наименование комнаты",
		  "propertyOrder": 2,
		  "options": {"hidden": false,
		  				"grid_columns": 6}
        },
        "ch1": {
		  "title": "Канал 1",
          "type": "string",
          "default": "MDM3/K1",
          "description": "Канал ведущего диммера",
		  "propertyOrder": 3,
		  "options": {"hidden": false,
		  				"grid_columns": 6}
        },
        "ch1dimm": {
		  "title": "Диммер 1",
          "type": "string",
          "default": "MDM3/Channel 1",
          "description": "Канал диммирования ведущего",
		  "propertyOrder": 4,
		  "options": {"hidden": false,
		  				"grid_columns": 6}
		},
        "ch2": {
		  "title": "Канал 2",
          "type": "string",
          "default": "",
          "description": "Канал ведомого диммера",
		  "propertyOrder": 5,
		  "options": {"hidden": false,
		  				"grid_columns": 6}
        },
        "ch2dimm": {
		  "title": "Диммер 2",
          "type": "string",
          "default": "",
          "description": "Канал диммирования ведомого",
		  "propertyOrder": 6,
		  "options": {"hidden": false,
		  				"grid_columns": 6}
        },
        "input1": {
		  "title": "Вход 1",
          "type": "string",
          "default": "MR6LV/Input 1 counter",
          "description": "Выключатель 1",
		  "propertyOrder": 7,
		  "options": {"hidden": true}
        },
        "input2": {
		  "title": "Вход 2",
          "type": "string",
          "default": "",
          "description": "Выключатель 2",
		  "propertyOrder": 8,
		  "options": {"hidden": true}
        },
        "sensor1": {
		  "title": "Датчик 1",
          "type": "string",
          "default": "wb-gpio/EXT1_IN1",
          "description": "Вход Датчика 1",
		  "propertyOrder": 9,
		  "options": {"hidden": false,
		  				"grid_columns": 6}
        },
        "sensor1on": {
		  "title": "Датчик 1",
          "type": "string",
          "default": "light_control/sensor_sm01_on",
          "description": "Разрешить Датчик 1",
		  "propertyOrder": 10,
		  "options": {"hidden": true}
        },
        "sensor1inverse": {
		  "title": "Датчик 1",
          "type": "boolean",
          "default": "true",
          "description": "Инверсия входа Датчика 1",
		  "_format": "checkbox",
		  "propertyOrder": 11,
		  "options": {"hidden": true}
        },
        "sensor2": {
		  "title": "Датчик 2",
          "type": "string",
          "default": "wb-gpio/EXT1_IN2",
          "description": "Вход Датчика 2",
		  "propertyOrder": 13,
		  "options": {"hidden": true}
        },
        "sensor2on": {
		  "title": "Датчик 2",
          "type": "string",
          "default": "light_control/sensor_sm02_on",
          "description": "Разрешить Датчик 2",
		  "propertyOrder": 14,
		  "options": {"hidden": true}
        },
        "sensor2inverse": {
		  "title": "Датчик 2",
          "type": "boolean",
          "default": "true",
          "description": "Инверсия входа Датчика 2",
		  "_format": "checkbox",
		  "propertyOrder": 15,
		  "options": {"hidden": true}
        },
		"duration": {
		  "title": "Длительность",
		  "description": "Время свечения после включения",
	      "type": "number",
          "default": 10,
		  "minimum": 0,
		  "maximum": 300,
	      "propertyOrder": 16,
		  "options": {"hidden": false,
		  				"grid_columns": 6}
	    },
		"delay": {
		  "title": "Задержка",
		  "description": "Задержка включения",
	      "type": "number",
          "default": 10,
		  "minimum": 0,
		  "maximum": 10,
	      "propertyOrder": 17,
		  "options": {"hidden": true}
	    },
        "dayTime0": {
		  "title": "День",
		  "description": "Уровень свечения после включения",
          "type": "number",
          "default": 100,
		  "propertyOrder": 18,
		  "options": {"hidden": false,
		  				"grid_columns": 4}
        },
        "dayTime1": {
		  "title": "Вечер",
		  "description": "Уровень свечения после включения",
          "type": "number",
          "default": 50,
		  "propertyOrder": 19,
		  "options": {"hidden": false,
		  				"grid_columns": 4}
        },
        "dayTime2": {
		  "title": "Ночь",
		  "description": "Уровень свечения после включения",
          "type": "number",
          "default": 0,
		  "propertyOrder": 20,
		  "options": {"hidden": false,
		  				"grid_columns": 4}
        }
      }
    },
    "heater": {
      "type": "object",
      "headerTemplate": "{{self.i}} : \"{{self.name}}\" ({{self.mark}})",
      "required": [ "name"],
      "_format": "grid",
	  "options": {
		"disable_edit_json" : true,
		"disable_properties" : true,
		"disable_array_reorder" : true,
		"collapsed": true
	  },
      "properties": {
        "i": {
	      "title": "Индекс",
          "type": "string",
          "default": "1",
          "description": "Порядковый номер в списке",
		  "propertyOrder": 22,
		  "options": {"hidden": true}
        },
          "mark": {
	      "title": "Позиция нагревателя",
          "type": "string",
          "default": "1",
          "description": "Маркировка на плане помещения",
		  "propertyOrder": 1,
		  "options": {"hidden": false}
        },
        "name": {
		  "title": "Комната",
          "type": "string",
          "default": "Спальня",
          "description": "Наименование комнаты",
		  "propertyOrder": 2,
		  "options": {"hidden": false}
        },
        "alias": {
		  "title": "Код",
          "type": "string",
          "default": "bedroom",
          "description": "Обозначение комнаты",
		  "propertyOrder": 3,
		  "options": {"hidden": false}
        },
        "ch1": {
		  "title": "Реле 1",
          "type": "string",
          "default": "MR6LV/K1",
          "description": "Реле модуля управления",
		  "propertyOrder": 4,
		  "options": {"hidden": false}
        },
        "ch1inversion": {
		  "title": "Клапан НЗ (НО)",
          "type": "boolean",
          "default": "true",
          "description": "Инверсия управления Реле",
		  "_format": "checkbox",
		  "propertyOrder": 5,
		  "options": {"hidden": false}
        },
        "airSensor": {
		  "title": "Датчик воздуха",
          "type": "string",
          "default": "St01/T2",
          "description": "Датчик температуры воздуха",
		  "propertyOrder": 14,
		  "options": {"hidden": false}
        },
        "floorSensor": {
		  "title": "Датчик пола",
          "type": "string",
          "default": "St01/T1",
          "description": "Датчик температуры пола",
		  "propertyOrder": 15,
		  "options": {"hidden": false}
        },
		"deviation": {
		  "title": "Отклонение",
		  "description": "Параметр гистерезиса",
	      "type": "number",
          "default": 0.3,
		  "minimum": 0,
		  "maximum": 5,
	      "propertyOrder": 16,
		  "options": {"hidden": false}
	    },
        "day": {
		  "title": "День",
		  "description": "Переключить в режим Eco",
          "type": "boolean",
		  "_format": "checkbox",
          "default": "false",
		  "propertyOrder": 6,
		  "options": {"hidden": false}
        },
        "evening": {
		  "title": "Вечер",
		  "description": "Переключить в режим Eco",
          "type": "boolean",
		  "_format": "checkbox",
          "default": "true",
		  "propertyOrder": 7,
		  "options": {"hidden": false}
        },
        "night": {
		  "title": "Ночь",
		  "description": "Переключить в режим Eco",
          "type": "boolean",
		  "_format": "checkbox",
          "default": "true",
		  "propertyOrder": 8,
		  "options": {"hidden": false}
        }
      }
    }
  }
}